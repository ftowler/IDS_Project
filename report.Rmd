---
title: "Did the Formula 2022 Rule Change Improve Racing as Intended."
author: "by : Dimitri Rao, Eric Zhang, Ray Zang, Fergus Towler & Moses Weintraub"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r load-lib, include = FALSE}
library(tidyverse)
# Add any other libraries here



```


```{r load-data, include=FALSE}
# load your data here and any pre-processing/cleaning 
#  that you need for your report.
circuits <- read_csv("data/circuits.csv")
constructor_results <- read_csv('data/constructor_results.csv')
constructor_standings <- read_csv('data/constructor_standings.csv')
constructors <- read_csv('data/constructors.csv')
driver_standings <- read_csv('data/driver_standings.csv')
drivers <- read_csv('data/drivers.csv')
lap_times <- read_csv('data/lap_times.csv')
pit_stops <- read_csv('data/pit_stops.csv')
qualifying <- read_csv('data/qualifying.csv')
races <- read_csv('data/races.csv')
results <- read_csv('data/results.csv')
seasons <- read_csv('data/seasons.csv')
sprint_results <- read_csv('data/sprint_results.csv')
status <- read_csv('data/status.csv')



```


## Research Question

<<<<<<< HEAD
In 2022, Formula One completely changed the rules and regulations for the cars and introduce a budget cap. The aim being to improve the racing by making the cars have less complex and intricate bodies that disrupted the airflow behind the car. The disrupted airflow would compromise the car behind as the aerodynamics would not be able to act as effectively. This normally led to very few overtakes in boring races. But with these new cars, in theory, the cars can follow each other more closely and the budget cap will reduce the performance difference and improve racing overall. But did this work. Through data analysis, this group will determine whether these new rules worked.



## Data

This is a large data set containing all information on the Formula 1 races, drivers, constructors, qualifying, circuits, lap times, pit stops, championships from 1950 till the latest 2023 season.From this data, my group looked at 2009-2022 season as this was a much more modern era of F1. Older seasons would not help show an accurate . 

RaceID in results assigns a specific number to each race, this can be used to identify season by using the groupings we made.
In the results table, milliseconds is the the time a driver took to finish a race,
Driver id in drivers assigns each driver a number
Points from Results shows the points each driver recieved from each race
Q3 session from qualifying time of each driver from the third qualifying session. Q3 had to be converted from the time in minutes into milliseconds.




## Findings

The write-up of your project and findings go here. 

Think of this as the text of your presentation with some extra detail to cover what there was not time to discuss in the presentation. This might include any assumptions you made when doing your analysis, any limitations of the work you have done or any ideas you have for future work. Feel free to split this section into subsections to make it easier to read. 

The length should be roughly 1,500 words. 
If you want to use a word count addin, you can install this by copying and pasting the following into RStudio:

`devtools::install_github("benmarwick/wordcountaddin", type = "source", dependencies = TRUE)`

You will then need to restart RStudio. Once you have done that, select the text you want to count the words of, go to Addins, and select the `Word count` addin.
This addin counts words using two different algorithms, but the results should be similar and as long as you're in the ballpark of 1,500 words, you're good! 
The addin will ignore code chunks and only count the words in prose. If you don't want to use the addin you can always copy and paste the text into Microsoft Word to do a Word Count!

You can also load your data here and present any analysis results / plots.
Make sure to hide your code with  `echo = FALSE` unless the point you are trying to make is about the code itself, in which case you should show your code.

REPORT:500 Words
We found that the regulation changes were not effective in making the sport more competitive. To determine this we looked at both driver and constructor performance.
All our analysis was done from the 2009-2022 seasons. This is because in 2009 F1 was the beginning of the new points system and major changes to car regulations. The regulations we’re looking at were introduced for the 2022 season so while we can only look at the latest season when comparing effects but the hope is there will still be a noticeable difference between the seasons.
To see if the regulation changes changed constructors at all we summed up each constructors points per season and calculated the standard deviation of constructor points per season. Applying a linear model over it shows a positive correlation. The standard deviation has been gradually increasing since 2009, indicating that the differences in constructors performances is increasing. If the regulations had the intended effect we would see a decrease or stagnation in standard deviation but the 2022 was the worst year yet.
To see how the regulation changes affected drivers we looked at split times in qualifying seasons, races and changes in points performance.
Each drivers points per season were summed up and the standard deviation was found. This was then plotted per season and a line of best fit was found for it. There has been a tend for the standard deviation to be increasing since 2009, this implies that the difference in performance between racers is increasing per season, this makes the sport less competitive as results aren’t close. 2022 sees a return to pre-pandemic levels but not a significant increase so the regulations may have helped curb this growing gap between racers.
The average split time per race for each season was calculated. The split time is the time between
each racer finishing the final lap and the racer after them. The plot shows quite sudden changes that coincide with different eras of car being used in F1. In 2014 the V6 engine was introduced which lead to an increase in average split times that gradually increased until 2018 when the new V6 large car era began causing a decrease in split times. The 2020 pandemic season showed a difference in split times but due to the return to trend in 2021 this can be viewed as an outlier. The 2022 season sees a dramatic drop in split times of over a second. This indicates that the regulation changes did were effective in increasing the competitiveness of the races. What would help support this conclusion would be to see if the trend continues in the coming seasons as teams adjust to the new regulations it wouldn’t be unexpected for split times to increase gradually as certain teams adapt better than others to the new regulations.
The average split per qualifying  round 
Our analysis shows that while individual racers have perhaps benefited from the regulation changes it has not been effective in stopping large constructors from dominating the sport. 





## References

List any references here. You should, at a minimum, list your data source.

Dataset:https://www.kaggle.com/datasets/rohanrao/formula-1-world-championship-1950-2020 (27/10/2023)
